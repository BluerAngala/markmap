import{S as t,i as e,s as n,e as r,g as i,h as a,d as s,k as o,l as c,y as l,u as h,J as u,K as m,L as f,v as d}from"./client.db4b186e.js";
/*! @gera2ld/jsx-dom v1.2.1 | ISC License */var p=["innerHTML","innerText","textContent",{key:"value",tag:"textarea"}],w={name:"Fragment"};function g(t,e){var n,r;if(t===w)n=document.createDocumentFragment();else{if("string"!=typeof t)throw new Error("Invalid element type: "+t);var i=g.createElement(t);n=i,e&&Object.keys(e).forEach((function(n){var a=e[n];null!=a&&(n.startsWith("on")?i.addEventListener(n.slice(2).toLowerCase(),a):"children"===n?y(i,a):"style"===n&&"object"==typeof a?k(i,a):"dangerouslySetInnerHTML"===n&&a?i.innerHTML=a.__html||"":"ref"===n&&"function"==typeof a?r=a:"boolean"==typeof a?a?i.setAttribute(n,n):i.removeAttribute(n):v(t,n)?i[n]=a:("className"===n?n="class":"labelFor"===n&&(n="for"),i.setAttribute(n,""+a)))}))}for(var a=arguments.length,s=new Array(a>2?a-2:0),o=2;o<a;o++)s[o-2]=arguments[o];return y(n,s),r&&r(n),n}function v(t,e){var n={tag:t,key:e};return p.some((function(t){return"string"==typeof t?e===t:Object.keys(t).every((function(e){return t[e]===n[e]}))}))}function y(t,e){e.forEach((function(e){null!=e&&!1!==e&&(Array.isArray(e)?y(t,e):"object"!=typeof e?t.appendChild(document.createTextNode(""+e)):t.appendChild(e))}))}function k(t,e){Object.keys(e).forEach((function(n){var r=e[n];t.style[n]="number"==typeof r?r+"px":r}))}
/*! markmap-toolbar v0.1.0 | MIT License */function b({title:t,content:e,onClick:n}){return g("div",{title:t,innerHTML:e,onClick:n})}let M;g.createElement=function(t){return document.createElement(t)};class C{static create(t){const e=new C;return e.attach(t),e.render()}static icon(t){return`<svg width="20" height="20" viewBox="0 0 20 20" on:click={onZoomIn}><path fill="none" stroke-width="2" stroke="currentColor" d="${t}"/></svg>`}constructor(){this.showBrand=!0,this.registry={},this.markmap=null,this.items=["zoomIn","zoomOut","fit"],this.register({id:"zoomIn",title:"Zoom in",content:C.icon("M10 6 v8 M6 10 h8"),onClick:this.getHandler((t=>t.rescale(1.25)))}),this.register({id:"zoomOut",title:"Zoom out",content:C.icon("M6 10 h8"),onClick:this.getHandler((t=>t.rescale(.8)))}),this.register({id:"fit",title:"Fit window size",content:C.icon("M4 8 h3 v-3 M4 12 h3 v3 M16 8 h-3 v-3 M16 12 h-3 v3"),onClick:this.getHandler((t=>t.fit()))})}setBrand(t){this.showBrand=t}register(t){this.registry[t.id]=t}getHandler(t){var e;return e=t,t=async(...t)=>{if(!M){M=e(...t);try{await M}finally{M=null}}},e=>{this.markmap&&t(this.markmap)}}setItems(t){this.items=[...t]}attach(t){this.markmap=t}render(){const t=this.items.map((t=>{if("string"==typeof t){const e=this.registry[t];return e||console.warn(`[markmap-toolbar] ${t} not found`),e}return t})).filter(Boolean);return g("div",{className:"mm-toolbar"},this.showBrand&&g("div",{className:"mm-toolbar-brand"},g("img",{alt:"markmap",src:"/favicon.png"}),g("a",{href:"https://markmap.js.org/"},"markmap")),t.map(b))}}function E(t){let e,n;return{c(){e=r("div"),this.h()},l(t){e=i(t,"DIV",{class:!0}),a(e).forEach(s),this.h()},h(){o(e,"class",n=t[1].class)},m(n,r){c(n,e,r),t[5](e)},p(t,[r]){2&r&&n!==(n=t[1].class)&&o(e,"class",n)},i:l,o:l,d(n){n&&s(e),t[5](null)}}}function x(t,e,n){let r,{mm:i}=e,{showBrand:a=!1}=e,{isFull:s=!1}=e;const o=new C;return o.setBrand(a),o.register({id:"repl",title:"Open in REPL",content:C.icon("M5 6 v8 h10 v-8 h-10 z m5 0 v8"),onClick:function(){u("/repl"+window.location.hash)}}),o.register({id:"full",title:"Full page view",content:C.icon("M5 9 v-3 h3 M5 11 v3 h3 M15 9 v-3 h-3 M15 11 v3 h-3"),onClick:function(){u("/full"+window.location.hash)}}),o.setItems(["zoomIn","zoomOut","fit",s?"repl":"full"]),h((()=>{r.append(o.render())})),t.$$set=t=>{n(1,e=m(m({},e),f(t))),"mm"in t&&n(2,i=t.mm),"showBrand"in t&&n(3,a=t.showBrand),"isFull"in t&&n(4,s=t.isFull)},t.$$.update=()=>{4&t.$$.dirty&&o.attach(i)},e=f(e),[r,e,i,a,s,function(t){d[t?"unshift":"push"]((()=>{r=t,n(0,r)}))}]}class B extends t{constructor(t){super(),e(this,t,x,E,n,{mm:2,showBrand:3,isFull:4})}}const L=["af76a4c245b302206b16aec503dbe07b","gitee:a73wgucr28dhlxp91kytm57"];function j(){}async function F(t){const[,e,n,r]=t.match(/^(?:(\w+):)?(\w+)(?:\/(.*))?$|/);if(!n)return;const i=r||"markmap.md";return"gitee"===e?async function(t,e){const n=await fetch("https://gitee.com/api/v5/gists/"+t),r=(await n.json()).files[e];if(!r)return;let{content:i}=r;if(r.truncated){const t=await fetch(r.raw_url);i=await t.text()}return i}(n,i):async function(t,e){const n=await fetch("https://api.github.com/gists/"+t,{headers:{Accept:"application/vnd.github.v3+json"}}),r=(await n.json()).files[e];if(!r)return;let{content:i}=r;if(r.truncated){const t=await fetch(r.raw_url);i=await t.text()}return i}(n,i)}function I(t){let e;return async function(){const n={};e=n;let r=new URLSearchParams(window.location.hash.slice(1)).get("gist");r=r&&r.split(",");const i=await async function(t){return Promise.any(t.map(F))}(r||L);null!=i&&n===e&&t(i)}}function $(t){const e=I(t);return window.addEventListener("hashchange",e),e(t),()=>window.removeEventListener("hashchange",e)}Promise.any||(Promise.any=t=>new Promise(((e,n)=>{Promise.all(t.map((t=>Promise.resolve(t).then(e,j)))).then(n)})));export{B as T,$ as s};
